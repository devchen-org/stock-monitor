# 股票持仓收益实时监控系统

## 项目简介

股票持仓收益实时监控系统是一个基于 PHP 和 Vue.js 开发的股票投资辅助工具，支持实时监控持仓收益、做T交易管理和企业微信通知等功能。

## 核心功能

- 📊 **实时监控**：实时获取股票价格，自动计算盈亏额和盈亏率
- 💻 **网页界面**：基于 Vue.js + Bootstrap 的响应式网页界面
- 📈 **做T交易**：支持做T交易记录、实时股价监控和盈利计算
- 📲 **企业微信通知**：自动发送持仓情况到企业微信
- 🔔 **浏览器通知**：股价达到目标价格时发送浏览器通知
- 🔧 **灵活配置**：支持 API 接口选择、刷新间隔设置等
- 🧮 **成本计算器**：内置股票T成本计算器

## 技术栈

- **前端**：HTML5 + Vue.js + Bootstrap
- **后端**：PHP 8.0+
- **数据库**：SQLite
- **股票 API**：支持新浪和腾讯股票 API
- **通知**：企业微信 Webhook + 浏览器通知 API

## 快速开始

### 1. 启动本地服务器

```bash
php -S localhost:8000
```

### 2. 访问系统

在浏览器中打开：
```
http://localhost:8000/index.html
```

### 3. 基本配置

1. **添加持仓**：在 "持仓管理" 页面添加股票持仓
2. **系统设置**：在 "系统设置" 页面配置 API 接口、刷新间隔等
3. **微信通知**：在 "微信通知" 页面配置企业微信 Webhook

## 主要功能

### 持仓监控
- 实时显示股票的涨跌、涨跌幅、现价等数据
- 自动计算盈亏额和盈亏率
- 显示买x手后成本价和卖x手后成本价
- 上涨股票显示红色文字，下跌股票显示绿色文字

### 做T交易
- 选择持仓股票 → 记录卖出信息 → 实时监控股价 → 记录买入信息 → 完成做T
- 实时显示当前股价、目标价格、下跌百分比、预计盈利等
- 当股价达到目标价格时，通过浏览器发出通知
- 保存做T交易记录，包括买入价格、卖出价格、盈利等

### 企业微信通知
- 每次自动刷新数据后，自动将持仓情况发送到企业微信
- 点击 "发送到企业微信" 按钮手动发送
- 通知内容包括股票名称、涨跌、涨跌幅、现价和成本价

## 使用说明

1. **股票代码格式**：上交所股票以 "sh" 开头，深交所股票以 "sz" 开头
2. **浏览器通知**：使用浏览器通知功能需要用户授权
3. **企业微信**：需要配置正确的企业微信 Webhook 地址
4. **交易时间**：非交易时间数据可能不会更新（如果设置了只在交易时间刷新）

## 项目结构

```
stock-monitor/
├── api/              # 后端 API 目录
├── css/              # 样式文件
├── js/               # JavaScript 文件
├── index.html        # 前端主页面
└── stock_monitor.db  # SQLite 数据库
```

## 许可证

本项目采用 MIT 许可证。